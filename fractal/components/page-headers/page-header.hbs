{{!-- fractal/components/page-header.hbs --}}
<header class="m-page-header

    {{~#if pageHeaderModifier}} m-page-header--{{pageHeaderModifier}}{{/if}}{{#each pageHeaderContext.modifiers}} m-page-header--{{this}}{{/each~}}

    {{~#if pageHeaderClasses}} {{pageHeaderClasses}}{{/if}}{{#each pageHeaderContext.classes}} {{this}}{{/each}}">

    {{~#unless pageHeaderSearchBar}}
        {{#> @page-section
                pageSectionContext=pageHeaderContext.sections.siteSearchBar.pageSection
                pageSectionClasses="m-page-header__site-search-bar l-hidden-xs"}}
            {{> @site-search-bar
                    siteSearchBarContext=pageHeaderContext.sections.siteSearchBar.siteSearchBar
                    siteSearchBarClasses="m-page-header__site-search"}}
        {{~/@page-section}}
    {{/unless~}}

    {{~#if pageHeaderContext.sections.siteNavigationBar}}
        {{#> @page-section
                pageSectionContext=pageHeaderContext.sections.siteNavigationBar.pageSection
                pageSectionClasses="m-page-header__site-navigation-bar"}}
            {{> @site-navigation-bar
                    siteNavigationBarContext=pageHeaderContext.sections.siteNavigationBar.siteNavigationBar
                    siteNavigationBarClasses="m-page-header__site-navigation"}}
        {{~/@page-section}}
    {{~/if~}}

    {{~#if pageHeaderContext.sections.titleBar}}
        {{#> @page-section
                pageSectionContext=pageHeaderContext.sections.titleBar.pageSection
                pageSectionClasses="m-page-header__title-bar"}}
            {{> @title-bar
                    titleBarContext=pageHeaderContext.sections.titleBar.titleBar}}
        {{~/@page-section}}
    {{~/if~}}

    {{~#if pageHeaderContext.sections.primaryNavigation}}
        {{#> @page-section
                pageSectionContext=pageHeaderContext.sections.primaryNavigation.pageSection
                pageSectionClasses="m-page-header__primary-navigation-bar"}}
            {{> @navigation
                    navigationContext=pageHeaderContext.sections.primaryNavigation.navigation}}
        {{~/@page-section}}
    {{~/if~}}

    {{~#if pageHeaderContext.sections.breadcrumbBar}}
        {{#> @page-section
                pageSectionContext=pageHeaderContext.sections.breadcrumbBar.pageSection
                pageSectionClasses="m-page-header__breadcrumbs-bar"}}
            {{> @breadcrumb-bar
                    breadcrumbBarContext=pageHeaderContext.sections.breadcrumbBar.breadcrumbBar}}
        {{~/@page-section}}

    {{~/if~}}
</header>